<!-- user list section  start  -->
<div class="container-fluid user-list-section mt-3">
    <div class="user-list-main-section">
        <div class="row g-0 justify-content-between">
            <div
                class=" col-xl-2 col-lg-3 col-md-3 col-sm-3 col-12 mb-3 d-flex justify-content-center align-items-center">
                <label for="" class="me-3">Role</label>
                <select class="form-select select-input " aria-label="Default select example"
                    (change)="filterUserListRoleWise($event)">
                    <option value="student" class="select-option">Student</option>
                    <option value="faculty" class="select-option">Faculty</option>
                </select>
            </div>
            <div class="col-lg-2 col-md-3 col-sm-4 col-12 mb-3 d-flex justify-content-center align-items-center">
                <label for="" class="me-3">Standard</label>
                <select class="form-select form-control select-input student-field-input"
                    (change)="setStandard($event)">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="" selected>All</option>
                </select>
            </div>
            <div class=" col-xl-2 col-lg-3 col-md-3 col-sm-4 col-12 mb-3 d-flex justify-content-center align-items-center"
                *ngIf="setRoleData == 'student'">
                <label for="" class="me-3">Semester</label>
                <select class="form-select form-control select-input student-field-input"
                    (change)="setSemester($event)">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="" selected>All</option>
                </select>
            </div>
            <div class=" col-xl-5 col-lg-5 col-md-12 col-12 mb-3">
                <input type="text" placeholder="Search By School name, name, email, phone number"
                    class="form-control select-input search-input" (keyup)="searchUserDetails($event)">
            </div>

        </div>
        <div class="user-data-section table-responsive">

            <table class="table table-striped table-hover  align-middle">
                <thead>
                    <tr>
                        <th scope="col" class="table-id">
                            <span class="d-flex justify-constart table-title-data">id</span>
                        </th>
                        <th scope="col" class="table-school-name table-title-data">School Name
                            <img src="{{ this.setSortingKeyName ==  'schoolName'  ? setSortingIconSrc :'../../../../../assets/image/arrows.png' }}"
                                alt="" class="sorting-icon ms-2" (click)="setSortingUserData('schoolName')">
                        </th>
                        <th scope="col">
                            <span class="d-flex justify-content-start table-title-data table-field">Role</span>
                        </th>
                        <th scope="col" class="table-name table-title-data">Name
                            <img src="{{ this.setSortingKeyName ==  'name'  ? setSortingIconSrc :'../../../../../assets/image/arrows.png' }}"
                                alt="" class="sorting-icon ms-2" (click)="setSortingUserData('name')">
                        </th>
                        <th scope="col" class="table-email table-title-data">Email
                            <img src="{{ this.setSortingKeyName ==  'email'  ? setSortingIconSrc :'../../../../../assets/image/arrows.png' }}"
                                alt="" class="sorting-icon ms-2" (click)="setSortingUserData('email')">
                        </th>
                        <th scope="col" class=" table-title-data table-id">Mo. Number</th>
                        <th scope="col" class="table-address table-title-data">Address</th>
                        <th scope="col">
                            <span class="d-flex justify-content-start table-field table-title-data">DOB</span>
                        </th>
                        <th scope="col">
                            <span class="d-flex justify-content-start table-field table-title-data">Gender</span>
                        </th>
                        <th scope="col" class=" table-field" *ngIf="setRoleData == 'student'"><span
                                class="d-flex justify-content-center table-field table-title-data">Semester</span></th>
                        <th scope="col" class=" table-field"><span
                                class="d-flex justify-content-center table-field table-title-data">Standard</span></th>
                        <th scope="col" class=" table-field" *ngIf="setRoleData == 'student'">
                            <span class="d-flex justify-content-start table-field table-title-data">Medium</span>
                        </th>
                        <th scope="col" class=" table-title-data table-qualification" *ngIf="setRoleData == 'faculty'">
                            Subject</th>
                        <th class="table-qualification table-title-data" *ngIf="setRoleData == 'faculty'">Qualification
                        </th>

                        <th class="table-qualification"><span
                                class="d-flex justify-content-start table-field table-title-data"> Qr Code</span> </th>
                        <th scope="col">
                            <span class="d-flex justify-content-start table-title-data table-field">Action</span>
                        </th>
                    </tr>
                </thead>

                <tbody *ngFor="let user of userList | SortingTableData:setSortingStatus:setSortingKeyName ">
                    <tr>
                        <td class="table-id table-data">{{user.id}} </td>
                        <td class="table-school-name table-data">
                            {{user.schoolName}}</td>
                        <td class=" table-data table-field"><span
                                class="d-flex justify-constart table-field table-data">{{user.role}}</span></td>
                        <td class="table-name table-data" (click)="setSortingUserData('name')">{{user.name}}</td>
                        <td class="table-email table-data" (click)="setSortingUserData('email')">{{user.email}}</td>
                        <td class=" table-data table-id">{{user.phoneNumber}}</td>
                        <td class="table-address table-data">{{user.address}}</td>
                        <td><span class="d-flex justify-content-start table-field table-data">{{user.dob |
                                date:"dd MMM yyyy"}}</span> </td>
                        <td><span class="d-flex justify-content-start table-field table-data">{{user.gender}}</span>
                        </td>
                        <td *ngIf="setRoleData == 'student'"><span
                                class="d-flex justify-content-center table-field table-data">{{user.semester}}</span>
                        </td>
                        <td><span class="d-flex justify-content-center table-field table-data">{{user.standard}}</span>
                        </td>
                        <td *ngIf="setRoleData == 'student'"><span
                                class="d-flex justify-content-start table-field table-data badge text-bg-dark">{{user.medium}}</span>
                        </td>
                        <td class="table-qualification" *ngIf="setRoleData == 'faculty'">{{user.subject}}</td>
                        <td class="table-qualification table-data" *ngIf="setRoleData == 'faculty'">
                            {{user.qualification}}</td>
                        <td>
                            <qrcode qrdata="'{{user.id}}'" [width]="75" class="qr-code-img"
                                *ngIf="user.qrCodeStatus == true"></qrcode>
                        </td>
                        <td class=" table-data table-field">
                            <span class="d-flex justify-content-start align-items-center table-field table-data">
                                <img src="../../../../../assets/image/icons8-edit-48.png" alt="" class="action-img"
                                    placement="top" ngbTooltip="Edit" (click)="editUserDetails(user.id)">
                                <div data-bs-toggle="modal" data-bs-target="#setDeleteItem" #setModel>
                                    <img src="../../../../../assets/image/icons8-delete-64.png" alt=""
                                        class="action-img" placement="top" ngbTooltip="Delete"
                                        (click)="deleteUserDetails(user.id)">
                                </div>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div *ngIf="userList.length==0" class="d-flex justify-content-center align-items-center empty-message-section">
            <h3 class="empty-message">No Record Found</h3>
        </div>
    </div>
</div>


<!-- delete confirmation popup  -->
<!-- Modal -->
<div class="modal fade" id="setDeleteItem" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
    data-backdrop="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">
                    Delete user
                </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    #closeButton></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete user Details?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary cancel-btn" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn  delete-btn" (click)="deleteDetails()">Confirm
                    <span *ngIf="animationShow">
                        <ng-lottie [options]="AnimationOptions"
                            class="d-flex justify-content-center loading-animation-img">
                        </ng-lottie>
                    </span></button>
            </div>
        </div>
    </div>
</div>


<!-- user list section End  -->